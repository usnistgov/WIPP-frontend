<h3 style="margin-top: 2%; margin-bottom: 2%;">Plugins</h3>
<!--<h3 style=" margin-top: 7%; margin-bottom: 3%; font-family: fantasy; font-size: 3em; font-style: normal; font-variant: normal; font-weight: 700; line-height: 15.4px;">Plugins</h3>-->
<div class="row">
  <div class="col-md-3">
    <button class="btn btn-primary" style="background-color: #f8f9fa; border-color: #bfbfbf; color: black"
            (click)="displayNewPluginModal()"
    >
      <i class="fas fa-plus-circle" style="margin-right: 10px">
        <p style="margin-left: 10px; display: inline; font-family: 'Roboto', sans-serif ; font-weight: normal">
          New plugin</p>
      </i>
    </button>
  </div>
</div>

<table mat-table class="table-hover" [dataSource]="plugins"
       (matSortChange)="sortChanged($event)" matSort>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
    <td mat-cell *matCellDef="let row" style="color: #007bff">{{ row.name }}</td>
  </ng-container>

  <!-- Version Column -->
  <ng-container matColumnDef="version">
    <th mat-header-cell *matHeaderCellDef>Version</th>
    <td mat-cell *matCellDef="let row">{{row.version}}</td>
  </ng-container>

  <!-- Description Column -->
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>Description</th>
    <td mat-cell *matCellDef="let row">{{row.description}}</td>
    <td mat-cell *matCellDef="let row">{{row.description}}</td>
  </ng-container>

  <ng-container matColumnDef="header-row-filter-name">
    <th mat-header-cell *matHeaderCellDef
        [style.text-align]="center"
        [attr.colspan]="1">
      <mat-form-field class="filter" floatLabel="never">
        <mat-label>Search by name</mat-label>
        <input matInput (keyup)="applyFilterByName($event.target.value)">
      </mat-form-field>
    </th>
  </ng-container>

  <ng-container matColumnDef="header-row-blank">
    <th mat-header-cell *matHeaderCellDef
        [style.text-align]="center"
        [attr.colspan]="2"></th>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-header-row *matHeaderRowDef="['header-row-filter-name', 'header-row-blank']"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row); onClick(row)"></tr>

</table>

<mat-paginator (page)="pageChanged($event)" [length]="resultsLength" [pageSize]="pageSize"
               [pageSizeOptions]="pageSizeOptions"></mat-paginator>

<ng-template #addPluginModal let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">New plugin</h4>
    <button type="button" class="close" aria-label="Close" (click)="onClose()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-10">
        <div class="form-group">
          <input #browsePlugin type="file" (change)="onFileSelected($event)" name="file" class="col-md-12" id="file"
                 accept=".json, text/plain">
          <div>
            <button id="getJsonBtn" (click)="getByUrl(linkPlugin.value); linkPlugin.value=''"
                    [disabled]="linkPlugin.value.length<4 || !linkPlugin.checkValidity()">Get Json
            </button>
            <input #linkPlugin (change)="browsePlugin.value=null;" type="url" id="pluginLink" name="pluginLink"
                   placeholder="Enter the URL of the JSON plugin manifest" style="width: 80%; margin-top: 5%">
          </div>
          <textarea #pluginDescriptorText (change)="browsePlugin.value=null;" [(ngModel)]="pluginJSON"
                    id="pluginDescriptorText"
                    class="form-control" rows="10" placeholder="Or copy your JSON file content here"
                    style="margin-top: 5%">  </textarea>
        </div>
      </div>
      <div class="col-md-2">
        <button class="btn btn-danger" (click)="clearAll()"><a>clear form</a></button>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" id="registerBtn"
            (click)="c(pluginDescriptorText.value); clearAll()" [disabled]="pluginDescriptorText.value.length<2">
      <i class="fas fa-save" style="margin-right: 10px">
        <p id="registerText">Register plugin</p>
      </i></button>
  </div>

</ng-template>
